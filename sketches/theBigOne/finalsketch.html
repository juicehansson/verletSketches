!DOCTYPE html>
<html lang="en">

<head>
    <title>MySketch</title>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="./../../css/style.css" type="text/css" media="screen, projection" />
    <link href='http://fonts.googleapis.com/css?family=Libre+Baskerville:400,700,400italic' rel='stylesheet' type='text/css'>
    <script type="text/javascript" src="./../../js/verlet-1.0.0.js"></script>
    <style type="text/css" media="screen">
        canvas,
        img {
            display: block;
            margin: 1em auto;
            border: 1px solid black;
        }

        canvas {
            background: url("")
        }
    </style>
</head>

<body>
    <script type="text/javascript" src="./../../site/js/common.js"></script>
    <h1>
<<<<<<< HEAD:sketches/theBigOne/finalsketch.html
     Final Demo
=======
        Annas sketch 1
>>>>>>> ed449a253d270b99aa1113c02e2ab9ee3bf46e3c:sketches/finalsketch.html
    </h1>
    <h4>Authors</h4>
    <a href="https://github.com/Annabjoerk" target="_blank">Anna Bj√∂rk</a>
    <a href="https://github.com/juicehansson" target="_blank">Juicehansson</a>
    <a href="https://github.com/kruemel0611" target="_blank">kruemel0611</a>

    <center>
        Final sketch
        <br>
        <br>
        <br>
        <br>
        <a href="https://www.sitepoint.com/an-introduction-to-verlet-js/" target="_blank">Tutorial I used </a>
    </center>

    <canvas width="1200" height="500" id="canvas"></canvas>

    <script type="text/javascript">
        var world;

        function initializeWorld() {
            world = new VerletJS(1300, 500, document.getElementById("canvas"));
            //calling the verlet constructor

            //Spinning wheel
            var wheel = world.tire(new Vec2(550, 250), 190, 30, 1, 1);
            var pin = wheel.pin(30);

            //Flag1
            world.cloth(new Vec2(150, 200), 150, 200, 16, 3, 1);

            //Flag2
            world.cloth(new Vec2(1050, 200), 150, 200, 16, 3, 1);

            //Rope

            var rope = world.lineSegments([
                new Vec2(800, 100),
                new Vec2(810, 100),
                new Vec2(820, 100),
                new Vec2(830, 100),
                new Vec2(840, 100),
                new Vec2(850, 100),
                new Vec2(860, 100),
                new Vec2(870, 100),
                new Vec2(880, 100),
                new Vec2(890, 100),
                new Vec2(900, 100),
                new Vec2(910, 100),
                new Vec2(920, 100),
                new Vec2(930, 100),
                new Vec2(940, 100),
                new Vec2(950, 100),
                new Vec2(960, 100),
                new Vec2(970, 100),
                new Vec2(980, 100)

            ], 1);
            var pin = rope.pin(0);

            //---GRAVITY---
            //  world.gravity = new Vec2(0.0, 0.5);

            //---JOSEFINE---
            function handleOrientation(event) {
                var x = event.beta; // In degree in the range [-180,180]
                var y = event.gamma; // In degree in the range [-90,90]
                var z = event.alpha; // In degree in the range [-90,90]

                if (event.beta < 70 && event.alpha > 100) {
                    //alpha goes from 0-300
                    console.log(event.alpha)
                    world.gravity = new Vec2(0.1, 0.3);
                } else if (event.beta < 70 && event.alpha < 100) {
                    //alpha goes from 0-140
                    console.log(event.alpha)
                    world.gravity = new Vec2(-0.1, 0.3);
                } else {
                    //---GRAVITY---
                    world.gravity = new Vec2(0.0, 0.5);
                }

            }

            window.addEventListener('deviceorientation', handleOrientation);


        }

        var fps = 32;

        function renderWorld() {
            world.frame(16); //performs the physics calculations
            world.draw(); //draws the particles and constrains
            setTimeout(renderWorld, 1000 / fps); //how often if calls the rendering
        }



        //calling the initializing and the rendering on "load"
        window.addEventListener("load", function () {
            initializeWorld();
            renderWorld();
        })
    </script>
    <div id="footer">
        Copyright 2013 Sub Protocol and other contributors.
        <br/>
        <a href="http://subprotocol.com/">http://subprotocol.com/</a>
    </div>
</body>